{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst COLUMN_LENGTH = 4;\nconst winValue = 2048;\n\nconst gameField = document.querySelector('.game-field').tBodies[0];\nconst rows = [...gameField.children];\nconst cells = [...gameField.querySelectorAll('.field-cell')];\nconst scoreBlock = document.querySelector('.game-score');\nconst bestBlock = document.querySelector('.game-best');\nconst tiles = [];\n\nlet wasAnyCellReplaced = false;\nlet score = 0;\nlet best = window.localStorage.getItem('best') || 0;\n\nlet xTouchStartPoint = null;\nlet yToucStartPoint = null;\nlet lastY = 1;\n\nfunction isPossibleToMove() {\n  if (getEmptyCells().length > 0) {\n    return true;\n  }\n\n  for (let i = 0; i < rows.length; i++) {\n    for (let k = 0; k < rows.length; k++) {\n      const currentCellValue = rows[i].children[k].dataset.num;\n\n      if (k !== rows.length - 1) {\n        const rightCellValue = rows[i].children[k + 1].dataset.num;\n\n        if (currentCellValue === rightCellValue) {\n          return true;\n        }\n      }\n\n      if (i !== rows.length - 1) {\n        const bottomCellValue = rows[i + 1].children[k].dataset.num;\n\n        if (currentCellValue === bottomCellValue) {\n          return true;\n        }\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction getCellsByRows() {\n  return rows.map(row => [...row.children]);\n}\n\nfunction getCellsByRowsReversed() {\n  return getCellsByRows().map(row => row.reverse());\n}\n\nfunction getCellsByColumns() {\n  const columns = [];\n\n  for (let i = 0; i < COLUMN_LENGTH; i++) {\n    const column = [];\n\n    for (let k = 0; k < rows.length; k++) {\n      column.push(rows[k].children[i]);\n    }\n\n    columns.push(column);\n  }\n\n  return columns;\n}\n\nfunction getCellsByReversedColumns() {\n  const columns = [];\n\n  for (let i = 0; i < COLUMN_LENGTH; i++) {\n    const column = [];\n\n    for (let k = 0; k < rows.length; k++) {\n      column.push(rows[rows.length - k - 1].children[i]);\n    }\n\n    columns.push(column);\n  }\n\n  return columns;\n}\n\nfunction createTile(cell) {\n  const tile = document.createElement('div');\n\n  tile.classList.add('tile');\n  tile.style.top = cell.offsetTop + 'px';\n  tile.style.left = cell.offsetLeft + 'px';\n  gameField.append(tile);\n\n  return tile;\n}\n\nfunction initTilesAndCells() {\n  for (let i = 0; i < cells.length; i++) {\n    tiles.push(createTile(cells[i]));\n  }\n\n  for (let i = 0; i < cells.length; i++) {\n    cells[i].dataset.id = i;\n    cells[i].dataset.num = 0;\n  }\n}\n\nfunction getEmptyCells() {\n  return cells.filter(cell => cell.dataset.num === '0');\n}\n\nfunction getRandomEmptyCell() {\n  const emptyCells = getEmptyCells();\n  const emptyCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n\n  return emptyCell;\n}\n\nfunction makeNewCell() {\n  const emptyCell = getRandomEmptyCell();\n  const id = emptyCell.dataset.id;\n\n  emptyCell.dataset.num = Math.random() >= 0.9 ? 4 : 2;\n  tiles[id].textContent = emptyCell.dataset.num;\n  tiles[id].classList.add(`tile--${emptyCell.dataset.num}`);\n  tiles[id].classList.add('anim-show');\n\n  setTimeout(() => tiles[id].classList.remove('anim-show'), 500);\n}\n\nfunction replaceEmptyCells(arrOfCells) {\n  let isSorted = false;\n\n  do {\n    isSorted = true;\n\n    for (let k = 0; k < arrOfCells.length; k++) {\n      if (k === arrOfCells.length - 1) {\n        break;\n      }\n\n      if (arrOfCells[k].dataset.num !== '0'\n          && arrOfCells[k + 1].dataset.num === '0') {\n        arrOfCells[k + 1].dataset.num = arrOfCells[k].dataset.num;\n        arrOfCells[k].dataset.num = 0;\n\n        [arrOfCells[k + 1].dataset.id, arrOfCells[k].dataset.id]\n          = [arrOfCells[k].dataset.id, arrOfCells[k + 1].dataset.id];\n\n        wasAnyCellReplaced = true;\n\n        isSorted = false;\n      }\n    }\n  } while (!isSorted);\n}\n\nfunction slide(groupedCells) {\n  for (let i = 0; i < groupedCells.length; i++) {\n    const cellsGroup = groupedCells[i];\n\n    replaceEmptyCells(cellsGroup);\n\n    for (let k = 2; k >= 0; k--) {\n      if (k === cellsGroup.length - 1) {\n        break;\n      }\n\n      if (cellsGroup[k].dataset.num === cellsGroup[k + 1].dataset.num\n          && cellsGroup[k].dataset.num !== '0') {\n        const cellToRemove = cellsGroup[k];\n        const cellToDouble = cellsGroup[k + 1];\n        const tileToRemove = tiles[cellToRemove.dataset.id];\n        const tileToDouble = tiles[cellToDouble.dataset.id];\n        const newNumber = cellToDouble.dataset.num * 2;\n\n        tileToRemove.classList\n          .remove(`tile--${cellToRemove.dataset.num}`);\n        tileToRemove.textContent = '';\n        cellToRemove.dataset.num = 0;\n\n        tileToDouble.classList\n          .remove(`tile--${cellToDouble.dataset.num}`);\n        cellToDouble.dataset.num = newNumber;\n        tileToDouble.textContent = newNumber;\n        tileToDouble.classList.add(`tile--${newNumber}`);\n        tileToDouble.classList.add(`anim-merge`);\n\n        setTimeout(() => tileToDouble.classList.remove(`anim-merge`), 500);\n\n        wasAnyCellReplaced = true;\n        score += newNumber;\n\n        if (newNumber === winValue) {\n          document.querySelector('.message-win').classList.remove('hidden');\n        }\n\n        replaceEmptyCells(cellsGroup);\n      }\n    }\n  }\n\n  cells.forEach(cell => {\n    tiles[cell.dataset.id].style.top = cell.offsetTop + 'px';\n    tiles[cell.dataset.id].style.left = cell.offsetLeft + 'px';\n  });\n}\n\nfunction slideUp() {\n  const cellsArr = getCellsByReversedColumns();\n\n  slide(cellsArr);\n\n  if (wasAnyCellReplaced) {\n    makeNewCell();\n    wasAnyCellReplaced = false;\n  }\n}\n\nfunction slideDown() {\n  const cellsArr = getCellsByColumns();\n\n  slide(cellsArr);\n\n  if (wasAnyCellReplaced) {\n    makeNewCell();\n    wasAnyCellReplaced = false;\n  }\n}\n\nfunction slideRight() {\n  const cellsArr = getCellsByRows();\n\n  slide(cellsArr);\n\n  if (wasAnyCellReplaced) {\n    makeNewCell();\n    wasAnyCellReplaced = false;\n  }\n}\n\nfunction slideLeft() {\n  const cellsArr = getCellsByRowsReversed();\n\n  slide(cellsArr);\n\n  if (wasAnyCellReplaced) {\n    makeNewCell();\n    wasAnyCellReplaced = false;\n  }\n}\n\nfunction endMove() {\n  if (score > best) {\n    window.localStorage.setItem('best', score);\n    best = score;\n  }\n\n  scoreBlock.textContent = score;\n  bestBlock.textContent = best;\n\n  if (!isPossibleToMove()) {\n    document.querySelector('.message-lose').classList.remove('hidden');\n  }\n}\n\nfunction handleButtonClick(e) {\n  e.target.textContent = 'Restart';\n  e.target.classList.remove('start');\n  e.target.classList.add('restart');\n\n  document.querySelector('.message-start').classList.add('hidden');\n  document.querySelector('.message-lose').classList.add('hidden');\n  document.querySelector('.message-win').classList.add('hidden');\n\n  cells.forEach(cell => {\n    tiles[cell.dataset.id].textContent = '';\n    tiles[cell.dataset.id].classList.remove(`tile--${cell.dataset.num}`);\n    cell.dataset.num = 0;\n  });\n\n  score = 0;\n\n  document.querySelector('.game-score').textContent = 0;\n\n  makeNewCell();\n  makeNewCell();\n}\n\nfunction handleInput(e) {\n  switch (e.key) {\n    case 'ArrowUp':\n      slideUp();\n      break;\n\n    case 'ArrowDown':\n      slideDown();\n      break;\n\n    case 'ArrowRight':\n      slideRight();\n      break;\n\n    case 'ArrowLeft':\n      slideLeft();\n      break;\n  }\n\n  endMove();\n}\n\nfunction handleTouchStart(e) {\n  const firstTouch = e.touches[0];\n\n  xTouchStartPoint = firstTouch.clientX;\n  yToucStartPoint = firstTouch.clientY;\n}\n\nfunction handleTouchMove(e) {\n  if (!xTouchStartPoint || !yToucStartPoint) {\n    return;\n  }\n\n  const xTouchEndPoint = e.touches[0].clientX;\n  const yTouchEndPoint = e.touches[0].clientY;\n\n  const xDiff = xTouchEndPoint - xTouchStartPoint;\n  const yDiff = yTouchEndPoint - yToucStartPoint;\n\n  if (Math.abs(xDiff) > Math.abs(yDiff)) {\n    if (xDiff > 0) {\n      slideRight();\n    } else {\n      slideLeft();\n    }\n  } else {\n    if (yDiff > 0) {\n      slideDown();\n    } else {\n      slideUp();\n    }\n  }\n\n  xTouchStartPoint = null;\n  yToucStartPoint = null;\n\n  endMove();\n}\n\nfunction disableScrollReload(e) {\n  const lastS = document.documentElement.scrollTop;\n\n  if (lastS === 0 && (lastY - e.touches[0].clientY) < 0 && e.cancelable) {\n    e.preDefault();\n    e.stopPropagation();\n  }\n\n  lastY = e.touches[0].clientY;\n}\n\nbestBlock.textContent = best;\n\ninitTilesAndCells();\n\ndocument.querySelector('.button').addEventListener('click', handleButtonClick);\ndocument.addEventListener('keyup', handleInput);\ngameField.addEventListener('touchstart', handleTouchStart, false);\ngameField.addEventListener('touchmove', handleTouchMove, false);\ndocument.addEventListener('touchmove', disableScrollReload, { passive: false });\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}